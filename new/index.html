<!DOCTYPE html>
<html lang="en">
<head>

    <title>Document</title>
</head>
<body>
    <h2>Simple Chat(with username)</h2>
    <input id="username" placeholder="Enter your name" autocomplete="off" />
    <br/><br/>
    <input id="msg" placeholder="Enter your message" autocomplete="off" />
    <button onclick="sendMsg()">Send</button>
    <ul id="messages"></ul>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        // Receive message from server
        socket.on("message", (data) => {
            const li = document.createElement("li");
            li.textContent = `${data.username}: ${data.message}`;
            document.getElementById("messages").appendChild(li);
        });

        // Send message to server
        function sendMsg() {
            const usernameInput = document.getElementById("username");
            const messageInput = document.getElementById("msg");
            const data = {
                username: usernameInput.value || "Anonymous",
                message: messageInput.value
            };
            socket.emit("message", data);
            messageInput.value = ""; // clear message input
        }
    </script>
    
    
</body>
</html>